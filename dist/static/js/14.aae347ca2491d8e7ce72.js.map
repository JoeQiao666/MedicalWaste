{"version":3,"sources":["webpack:///./src/components/page/operate/operate.vue","webpack:///src/components/page/operate/operate.vue","webpack:///./src/components/page/operate/operate.vue?6bb1"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_operate_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_operate_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_038fcb3d_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_operate_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","moment","data","_ref","_defineProperty","loading","loading2","permission","activeName","total","cur_page","chooseIds","tableData","departmentId","weight","typeId","opAt","recyclerId","staffId","required","message","methods","handleClick","tab","event","index","this","getData","formatter","row","format","handleCurrentChange","val","handleSelectionChange","arr","map","ele","id","join","console","log","add","_this","$axios","method","url","ruleForm","then","res","status","$message","success","$refs","resetFields","error","msg","catch","getDepartment","_this2","office","getType","_this3","types","getPerson","_this4","options1","options2","addIns","_this5","addIn","t","_this6","list","totalCount","mounted","localStorage","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","directives","name","rawName","expression","type","on","tab-click","model","callback","$$v","label","ref","staticStyle","width","margin","rules","label-width","prop","placeholder","$set","_l","item","value-format","username","display","click","_e","selection-change","align","sortable","background","layout","current-change","$event","staticRenderFns"],"mappings":"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","file":"static/js/14.aae347ca2491d8e7ce72.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-038fcb3d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./operate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./operate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./operate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-038fcb3d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./operate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-038fcb3d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/operate/operate.vue\n// module id = 7Ecm\n// module chunks = 14","<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>\r\n          <i class=\"el-icon-location-outline\"></i> 系统管理\r\n        </el-breadcrumb-item>\r\n        <el-breadcrumb-item>\r\n            补操作\r\n        </el-breadcrumb-item> \r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div v-loading=\"loading\" >\r\n        <el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\r\n          <el-tab-pane label=\"补新增\" name=\"1\">\r\n               <el-form ref=\"ruleForm\" class=\"new\"  style=\"width:50%;margin:auto\" :model=\"ruleForm\"  :rules=\"rules\" label-width=\"120px\"   >\r\n                    <el-form-item label=\"科室：\" prop=\"departmentId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.departmentId\" placeholder=\"请选择科室\">\r\n                            <el-option\r\n                              v-for=\"item in office\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.name\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"重量(KG)\" prop=\"weight\" required>\r\n                          <el-input v-model=\"ruleForm.weight\" type=\"number\"  ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"类型：\" prop=\"typeId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.typeId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in types\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.name\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"产生时间\" prop=\"opAt\" required>\r\n                          <el-date-picker\r\n                            style=\"width:100%\"\r\n                            v-model=\"ruleForm.opAt\"\r\n                            value-format=\"timestamp\"\r\n                            type=\"date\"\r\n                            placeholder=\"选择日期\">\r\n                          </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"回收员：\" prop=\"recyclerId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.recyclerId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in options1\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.username\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"交接人：\" prop=\"staffId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.staffId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in options2\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.username\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n               </el-form>\r\n               <el-button type=\"primary\"  v-if=\"permission=='修改'\" @click=\"add\" style=\"margin:30px auto 0;display: block;\" >确认新增</el-button>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"补入库\" name=\"2\">\r\n              <el-table\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\"\r\n              v-loading=\"loading2\"\r\n              @selection-change=\"handleSelectionChange\"\r\n              >\r\n              <el-table-column\r\n               type=\"selection\"\r\n               width=\"50\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"opAt\"\r\n                align=\"center\"\r\n                :formatter=\"formatter\"\r\n                label=\"产生时间\">\r\n              </el-table-column>\r\n                <el-table-column\r\n                prop=\"typeName\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"类型\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"weight\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"重量\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"departmentName\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"科室\"\r\n              >\r\n              </el-table-column>\r\n         \r\n              </el-table>\r\n              <div class=\"pagination\">\r\n                  <el-pagination background @current-change=\"handleCurrentChange\" layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n                  </el-pagination>\r\n              </div>\r\n\r\n              <div align=\"center\" >\r\n                <el-button  v-if=\"permission=='修改'\" @click=\"addIn(1)\" type=\"primary\">全部入库</el-button>\r\n                <el-button  v-if=\"permission=='修改'\" @click=\"addIn(2)\" type=\"primary\">确认入库</el-button>\r\n              </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst moment = require(\"moment\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loading2: false,\r\n      permission:false,\r\n      activeName: \"1\",\r\n      total:0,\r\n      cur_page:1,\r\n      chooseIds:[],\r\n      tableData:[\r\n      //  {id:1,time:'2018-01-12 10:12:11',type:'xx型',weight:12.11,name:'输液大厅'}\r\n      ],\r\n      total:0,\r\n      cur_page:1,\r\n      office:[],\r\n      types:[],\r\n      options1:[],\r\n      options2:[],\r\n      ruleForm:{\r\n          departmentId:'',\r\n          weight:'',\r\n          typeId:'',\r\n          opAt:'',\r\n          recyclerId:'',\r\n          staffId:'',\r\n      },\r\n      rules: {\r\n        departmentId: [\r\n            { required: true, message: '请选择科室' }\r\n        ],\r\n        weight: [\r\n            { required: true, message: '请输入重量' }\r\n        ],\r\n        typeId: [\r\n            { required: true, message: '请选择类型' }\r\n        ],\r\n        opAt: [\r\n            { required: true, message: '请输入时间' }\r\n        ],\r\n        recyclerId: [\r\n            { required: true, message: '请选择' }\r\n        ],\r\n        staffId: [\r\n            { required: true, message: '请选择' }\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    // 切换tab\r\n    handleClick(tab, event) {\r\n       if(tab.index==1){\r\n          this.getData()\r\n       }else{\r\n       \r\n      \r\n       }\r\n    },\r\n    formatter(row){\r\n        return moment(row.opAt).format('YYYY-MM-DD')\r\n    },\r\n     // 点击切换页码\r\n    handleCurrentChange(val){\r\n          this.cur_page = val;\r\n          this.getData()\r\n    },\r\n    handleSelectionChange(val){\r\n       var arr=val.map((ele)=>{\r\n         return ele.id\r\n       })\r\n       this.chooseIds=arr.join(',');\r\n       console.log(this.chooseIds)\r\n    },\r\n    add(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'post',\r\n            url:'/platform/hospital/rubbish/addDo',\r\n            data:this.ruleForm\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.$message.success('操作成功！');\r\n                this.loading=false;\r\n                this.ruleForm={\r\n                    departmentId:'',\r\n                    weight:'',\r\n                    typeId:'',\r\n                    opAt:'',\r\n                    recyclerId:'',\r\n                    staffId:'',\r\n                }\r\n              this.$refs['ruleForm'].resetFields();\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    getDepartment(){\r\n         this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/department/data',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.office=res.data.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    getType(){\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/type/data',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n               this.types=res.data.data;\r\n            }else{\r\n               this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)\r\n        })\r\n    },\r\n    getPerson(){\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/sys/user/data?roleId=1',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.options1=res.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/sys/user/data?roleId=0',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.options2=res.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    // 补入库\r\n    addIns(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'put',\r\n            url:'/platform/hospital/rubbish/store?ids='+this.chooseIds,\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                 this.loading=false;\r\n                 this.$message.success(res.data.msg);\r\n                 this.getData();\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    addIn(t){\r\n        if(t==1){\r\n           var arr=this.tableData.map((ele)=>{\r\n            return ele.id\r\n          })\r\n          this.chooseIds=arr.join(',');\r\n        }\r\n        this.addIns();\r\n    },\r\n    getData(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/rubbish/listPage?isBottle=true&pageNumber='+this.cur_page+'&pageSize=10&status=0',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.loading=false;\r\n                this.tableData=res.data.list;\r\n                this.total=res.data.totalCount;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.permission=localStorage.permission;\r\n    this.getDepartment()\r\n    this.getType()\r\n    this.getPerson()\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n .new /deep/ .el-form-item{\r\n   margin-bottom: 24px;\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/operate/operate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-location-outline\"}),_vm._v(\" 系统管理\\n      \")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"\\n          补操作\\n      \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"补新增\",\"name\":\"1\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"new\",staticStyle:{\"width\":\"50%\",\"margin\":\"auto\"},attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"科室：\",\"prop\":\"departmentId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择科室\"},model:{value:(_vm.ruleForm.departmentId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"departmentId\", $$v)},expression:\"ruleForm.departmentId\"}},_vm._l((_vm.office),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量(KG)\",\"prop\":\"weight\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.ruleForm.weight),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"weight\", $$v)},expression:\"ruleForm.weight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"typeId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.typeId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"typeId\", $$v)},expression:\"ruleForm.typeId\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产生时间\",\"prop\":\"opAt\",\"required\":\"\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"value-format\":\"timestamp\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.ruleForm.opAt),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"opAt\", $$v)},expression:\"ruleForm.opAt\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"回收员：\",\"prop\":\"recyclerId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.recyclerId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"recyclerId\", $$v)},expression:\"ruleForm.recyclerId\"}},_vm._l((_vm.options1),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"交接人：\",\"prop\":\"staffId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.staffId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"staffId\", $$v)},expression:\"ruleForm.staffId\"}},_vm._l((_vm.options2),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),(_vm.permission=='修改')?_c('el-button',{staticStyle:{\"margin\":\"30px auto 0\",\"display\":\"block\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"确认新增\")]):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"补入库\",\"name\":\"2\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"opAt\",\"align\":\"center\",\"formatter\":_vm.formatter,\"label\":\"产生时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"typeName\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weight\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"重量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"科室\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[(_vm.permission=='修改')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addIn(1)}}},[_vm._v(\"全部入库\")]):_vm._e(),_vm._v(\" \"),(_vm.permission=='修改')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addIn(2)}}},[_vm._v(\"确认入库\")]):_vm._e()],1)],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-038fcb3d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/operate/operate.vue\n// module id = nin0\n// module chunks = 14"],"sourceRoot":""}