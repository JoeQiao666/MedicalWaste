{"version":3,"sources":["webpack:///src/components/page/operate/operate.vue","webpack:///./src/components/page/operate/operate.vue?6bb1","webpack:///./src/components/page/operate/operate.vue"],"names":["moment","__webpack_require__","operate","data","loading","loading2","permission","activeName","total","cur_page","chooseIds","tableData","office","types","options1","options2","ruleForm","departmentId","weight","typeId","opAt","recyclerId","staffId","rules","required","message","methods","[object Object]","tab","event","index","this","getData","formatter","row","format","val","arr","map","ele","id","join","console","log","$axios","method","url","then","res","status","$message","success","$refs","resetFields","error","msg","catch","t","addIns","list","totalCount","localStorage","getDepartment","getType","getPerson","operate_operate","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","directives","name","rawName","value","expression","type","on","tab-click","handleClick","model","callback","$$v","label","ref","staticStyle","width","margin","label-width","prop","placeholder","$set","_l","item","key","value-format","username","display","click","add","_e","selection-change","handleSelectionChange","align","sortable","background","layout","current-change","handleCurrentChange","$event","addIn","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.e5632f58139bcdbd2d07.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>\r\n          <i class=\"el-icon-location-outline\"></i> 系统管理\r\n        </el-breadcrumb-item>\r\n        <el-breadcrumb-item>\r\n            补操作\r\n        </el-breadcrumb-item> \r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div v-loading=\"loading\" >\r\n        <el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\r\n          <el-tab-pane label=\"补新增\" name=\"1\">\r\n               <el-form ref=\"ruleForm\" class=\"new\"  style=\"width:50%;margin:auto\" :model=\"ruleForm\"  :rules=\"rules\" label-width=\"120px\"   >\r\n                    <el-form-item label=\"科室：\" prop=\"departmentId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.departmentId\" placeholder=\"请选择科室\">\r\n                            <el-option\r\n                              v-for=\"item in office\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.name\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"重量(KG)\" prop=\"weight\" required>\r\n                          <el-input v-model=\"ruleForm.weight\" type=\"number\"  ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"类型：\" prop=\"typeId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.typeId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in types\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.name\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"产生时间\" prop=\"opAt\" required>\r\n                          <el-date-picker\r\n                            style=\"width:100%\"\r\n                            v-model=\"ruleForm.opAt\"\r\n                            value-format=\"timestamp\"\r\n                            type=\"date\"\r\n                            placeholder=\"选择日期\">\r\n                          </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"回收员：\" prop=\"recyclerId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.recyclerId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in options1\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.username\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"交接人：\" prop=\"staffId\" required>\r\n                         <el-select style=\"width:100%\" v-model=\"ruleForm.staffId\" placeholder=\"请选择类型\">\r\n                            <el-option\r\n                              v-for=\"item in options2\"\r\n                              :key=\"item.id\"\r\n                              :label=\"item.username\"\r\n                              :value=\"item.id\"\r\n                              >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n               </el-form>\r\n               <el-button type=\"primary\"  v-if=\"permission=='修改'\" @click=\"add\" style=\"margin:30px auto 0;display: block;\" >确认新增</el-button>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"补入库\" name=\"2\">\r\n              <el-table\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\"\r\n              v-loading=\"loading2\"\r\n              @selection-change=\"handleSelectionChange\"\r\n              >\r\n              <el-table-column\r\n               type=\"selection\"\r\n               width=\"50\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"opAt\"\r\n                align=\"center\"\r\n                :formatter=\"formatter\"\r\n                label=\"产生时间\">\r\n              </el-table-column>\r\n                <el-table-column\r\n                prop=\"typeName\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"类型\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"weight\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"重量\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"departmentName\"\r\n                align=\"center\"\r\n                sortable\r\n                label=\"科室\"\r\n              >\r\n              </el-table-column>\r\n         \r\n              </el-table>\r\n              <div class=\"pagination\">\r\n                  <el-pagination background @current-change=\"handleCurrentChange\" layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n                  </el-pagination>\r\n              </div>\r\n\r\n              <div align=\"center\" >\r\n                <el-button  v-if=\"permission=='修改'\" @click=\"addIn(1)\" type=\"primary\">全部入库</el-button>\r\n                <el-button  v-if=\"permission=='修改'\" @click=\"addIn(2)\" type=\"primary\">确认入库</el-button>\r\n              </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst moment = require(\"moment\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loading2: false,\r\n      permission:false,\r\n      activeName: \"1\",\r\n      total:0,\r\n      cur_page:1,\r\n      chooseIds:[],\r\n      tableData:[\r\n      //  {id:1,time:'2018-01-12 10:12:11',type:'xx型',weight:12.11,name:'输液大厅'}\r\n      ],\r\n      total:0,\r\n      cur_page:1,\r\n      office:[],\r\n      types:[],\r\n      options1:[],\r\n      options2:[],\r\n      ruleForm:{\r\n          departmentId:'',\r\n          weight:'',\r\n          typeId:'',\r\n          opAt:'',\r\n          recyclerId:'',\r\n          staffId:'',\r\n      },\r\n      rules: {\r\n        departmentId: [\r\n            { required: true, message: '请选择科室' }\r\n        ],\r\n        weight: [\r\n            { required: true, message: '请输入重量' }\r\n        ],\r\n        typeId: [\r\n            { required: true, message: '请选择类型' }\r\n        ],\r\n        opAt: [\r\n            { required: true, message: '请输入时间' }\r\n        ],\r\n        recyclerId: [\r\n            { required: true, message: '请选择' }\r\n        ],\r\n        staffId: [\r\n            { required: true, message: '请选择' }\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    // 切换tab\r\n    handleClick(tab, event) {\r\n       if(tab.index==1){\r\n          this.getData()\r\n       }else{\r\n       \r\n      \r\n       }\r\n    },\r\n    formatter(row){\r\n        return moment(row.opAt).format('YYYY-MM-DD')\r\n    },\r\n     // 点击切换页码\r\n    handleCurrentChange(val){\r\n          this.cur_page = val;\r\n          this.getData()\r\n    },\r\n    handleSelectionChange(val){\r\n       var arr=val.map((ele)=>{\r\n         return ele.id\r\n       })\r\n       this.chooseIds=arr.join(',');\r\n       console.log(this.chooseIds)\r\n    },\r\n    add(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'post',\r\n            url:'/platform/hospital/rubbish/addDo',\r\n            data:this.ruleForm\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.$message.success('操作成功！');\r\n                this.loading=false;\r\n                this.ruleForm={\r\n                    departmentId:'',\r\n                    weight:'',\r\n                    typeId:'',\r\n                    opAt:'',\r\n                    recyclerId:'',\r\n                    staffId:'',\r\n                }\r\n              this.$refs['ruleForm'].resetFields();\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    getDepartment(){\r\n         this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/department/data',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.office=res.data.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    getType(){\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/type/data',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n               this.types=res.data.data;\r\n            }else{\r\n               this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)\r\n        })\r\n    },\r\n    getPerson(){\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/sys/user/data?roleId=1',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.options1=res.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/sys/user/data?roleId=0',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.options2=res.data;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    // 补入库\r\n    addIns(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'put',\r\n            url:'/platform/hospital/rubbish/store?ids='+this.chooseIds,\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                 this.loading=false;\r\n                 this.$message.success(res.data.msg);\r\n                 this.getData();\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n    addIn(t){\r\n        if(t==1){\r\n           var arr=this.tableData.map((ele)=>{\r\n            return ele.id\r\n          })\r\n          this.chooseIds=arr.join(',');\r\n        }\r\n        this.addIns();\r\n    },\r\n    getData(){\r\n        this.loading=true;\r\n        this.$axios({\r\n            method:'get',\r\n            url:'/platform/hospital/rubbish/listPage?isBottle=true&pageNumber='+this.cur_page+'&pageSize=10&status=0',\r\n        }).then((res) =>{\r\n            if(res.status==200){\r\n                this.loading=false;\r\n                this.tableData=res.data.list;\r\n                this.total=res.data.totalCount;\r\n            }else{\r\n                this.$message.error(res.data.msg);\r\n            }\r\n        }).catch((error) =>{\r\n            console.log(error)    \r\n        })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.permission=localStorage.permission;\r\n    this.getDepartment()\r\n    this.getType()\r\n    this.getPerson()\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n .new /deep/ .el-form-item{\r\n   margin-bottom: 24px;\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/operate/operate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-location-outline\"}),_vm._v(\" 系统管理\\n      \")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"\\n          补操作\\n      \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"补新增\",\"name\":\"1\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"new\",staticStyle:{\"width\":\"50%\",\"margin\":\"auto\"},attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"科室：\",\"prop\":\"departmentId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择科室\"},model:{value:(_vm.ruleForm.departmentId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"departmentId\", $$v)},expression:\"ruleForm.departmentId\"}},_vm._l((_vm.office),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量(KG)\",\"prop\":\"weight\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.ruleForm.weight),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"weight\", $$v)},expression:\"ruleForm.weight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"typeId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.typeId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"typeId\", $$v)},expression:\"ruleForm.typeId\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产生时间\",\"prop\":\"opAt\",\"required\":\"\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"value-format\":\"timestamp\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.ruleForm.opAt),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"opAt\", $$v)},expression:\"ruleForm.opAt\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"回收员：\",\"prop\":\"recyclerId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.recyclerId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"recyclerId\", $$v)},expression:\"ruleForm.recyclerId\"}},_vm._l((_vm.options1),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"交接人：\",\"prop\":\"staffId\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.staffId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"staffId\", $$v)},expression:\"ruleForm.staffId\"}},_vm._l((_vm.options2),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),(_vm.permission=='修改')?_c('el-button',{staticStyle:{\"margin\":\"30px auto 0\",\"display\":\"block\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"确认新增\")]):_vm._e()],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"补入库\",\"name\":\"2\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"opAt\",\"align\":\"center\",\"formatter\":_vm.formatter,\"label\":\"产生时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"typeName\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weight\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"重量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"align\":\"center\",\"sortable\":\"\",\"label\":\"科室\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[(_vm.permission=='修改')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addIn(1)}}},[_vm._v(\"全部入库\")]):_vm._e(),_vm._v(\" \"),(_vm.permission=='修改')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addIn(2)}}},[_vm._v(\"确认入库\")]):_vm._e()],1)],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-038fcb3d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/operate/operate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-038fcb3d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./operate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./operate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./operate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-038fcb3d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./operate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-038fcb3d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/operate/operate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}